import{d as E,r as u,q as W,s as $,g as j,v as q,o as F,j as N,a as V}from"./app.a6f0b41f.js";const A={class:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none",style:{"z-index":"-1"}},J=E({__name:"Plum",setup(D){const S=Math.PI,g=Math.PI/2,w=Math.PI/12,y="#88888825",x=u(null),{random:i}=Math,n=W($()),v=u(()=>{}),_=u(4),B=u(6),k=u(!1);function M(s,e=400,c=400,r){const t=s.getContext("2d"),a=window.devicePixelRatio||1,l=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,o=r||a/l;return s.style.width=`${e}px`,s.style.height=`${c}px`,s.width=o*e,s.height=o*c,t.scale(o,o),{ctx:t,dpi:o}}function b(s=0,e=0,c=0,r=0){const t=c*Math.cos(r),a=c*Math.sin(r);return[s+t,e+a]}return j(async()=>{const s=x.value,{ctx:e}=M(s,n.width,n.height),{width:c,height:r}=s;let t=[],a=[],l=0;const o=(f,R,m)=>{const C=i()*B.value,[h,d]=b(f,R,C,m);e.beginPath(),e.moveTo(f,R),e.lineTo(h,d),e.stroke();const I=m+i()*w,T=m-i()*w;h<-100||h>n.width+100||d<-100||d>n.height+100||((l<=_.value||i()>.5)&&t.push(()=>o(h,d,I)),(l<=_.value||i()>.5)&&t.push(()=>o(h,d,T)))};let P=performance.now();const z=1e3/40;let p;p=q(()=>{performance.now()-P<z||(l+=1,a=t,t=[],P=performance.now(),a.length||(p.pause(),k.value=!0),a.forEach(f=>f()))},{immediate:!1}),v.value=()=>{p.pause(),l=0,e.clearRect(0,0,c,r),e.lineWidth=1,e.strokeStyle=y,a=[],t=[()=>o(i()*n.width,0,g),()=>o(i()*n.width,n.height,-g),()=>o(0,i()*n.height,0),()=>o(n.width,i()*n.height,S)],n.width<500&&(t=t.slice(0,2)),p.resume(),k.value=!1},v.value()}),(s,e)=>(F(),N("div",A,[V("canvas",{ref_key:"el",ref:x,width:"400",height:"400"},null,512)]))}});export{J as _};
